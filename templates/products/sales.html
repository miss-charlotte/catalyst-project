{% load crispy_forms_tags%}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="/static/css/styles.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
</head>
<body style="background-image: linear-gradient(to right, #d1d1ff 10%, #caedff 50%, #b9ffd3 90%);">
    <!-- Navbar -->
<nav class="navbar navbar-expand-lg">
    <!-- Container wrapper -->
    <div class="container">
      <!-- Navbar brand -->
      <a class="navbar-brand" href="{% url 'index' %}" style="font-size: 16px; font-weight: 800;">
        <img
          src="/static/images/logo.png" height="46px" alt="Dr.Wu Ha Yu Logo"/>Dr.Wu Ha Yu Pharmacy </a>
  
        <div class="d-flex align-items-center">
          <a href="{% url 'index' %}"><button type="button" class="btn btn-link  me-2">Dashboard</button></a>
          <a href="{% url 'medicine' %}"><button type="button" class="btn btn-link me-3">
            Medicine
           </button></a>
          <a href="{% url 'sales'  %}"><button type="button" class="btn btn-link active me-3" style="font-weight: 900;">
            Sales
           </button></a>
          <a href="{% url 'receipts' %}"><button type="button" class="btn btn-link me-3">
            Receipts
           </button></a>
          <a href="{% url 'about' %}"><button type="button" class="btn btn-link me-3">
            About
           </button></a>
           <a href="{% url 'logout' %}"><button class="btn-sign-out  my-2 mr-4 " type="submit" style="box-shadow: 0 15px 20px rgba(68, 157, 252, 0.4);">Sign out
          </button></a>       
        </div>
    </div>
    <!-- Container wrapper -->
  </nav>
  <!-- Navbar -->
  <br><br>
  <!-- sales made -->
  <div class="container">
    <h4 class="text-center" style="font-weight: bold; ">TOTAL SALES MADE</h4>
    <table class="total-sales-made table justify-content-center table-borderless" style="border-spacing: 20px 20px; border-collapse: separate; background-color: white; height: 100%; border-radius: 4px; box-shadow: 0 15px 20px rgba(187, 219, 253, 0.4) ">
        <br>
        <thead>
          <tr style="opacity: 80%;">
            <th scope="col-2">Total Amount Received</th>
            <th scope="col-2">Total Change Given</th>
            <th scope="col-2">Net Amount</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>UGX {{total}}</td>
            <td>UGX {{change}}</td>
            <td>UGX {{net}}</td>
          </tr>
        </tbody>
    </table> 
  </div>
<br>
  <div class="container" style="background-color: white; height: 100%; border-radius: 4px; box-shadow: 0 15px 20px rgba(187, 219, 253, 0.4);">
    <table class="total-sales-made table justify-content-center table-borderless" style="border-spacing: 20px 20px; border-collapse: separate;">
        <thead>
          <tr>
            <th scope="col">Customer name</th>
            <th scope="col">Medicine Bought</th>
            <th scope="col">Quantity</th>
            <th scope="col">Unit Price</th>
            <th scope="col">Total Cost</th>
            <th scope="col">Amount Paid</th>
            <th scope="col">Change Given</th>
          </tr>
        </thead>
        {% for sale in sales %}
        <tbody>
          <tr>
            <td>{{sale.boughtBy | title}}</td>
            <td>{{sale.medicine | title}}</td>
            <td>{{sale.quantity}}</td>
            <td>UGX {{sale.unitCost}}</td>
            <td>UGX {{sale.getTotal}}</td>
            <td>UGX {{sale.amountPaid}}</td>
            <td>UGX {{sale.getChange}}</td>
          </tr>
        </tbody>
        {% endfor %} 
    </table> 
  </div>
  
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe" crossorigin="anonymous"></script>
</body>
</html>